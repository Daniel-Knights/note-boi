// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`Auth > clientSideLogout > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > clientSideLogout > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > clientSideLogout > Storage.get('THEME') 1`] = `null`;

exports[`Auth > clientSideLogout > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > clientSideLogout > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > clientSideLogout > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > clientSideLogout > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"1","notes":[],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "accessToken": "test-token",
        "username": "d",
      },
      "name": "set_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": true,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "note": {
          "content": {
            "body": "",
            "delta": {
              "ops": [],
            },
            "title": "",
          },
          "id": "id",
          "timestamp": 0,
        },
      },
      "name": "new_note",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "notes": [
          {
            "content": {
              "body": "",
              "delta": {
                "ops": [],
              },
              "title": "",
            },
            "id": "id",
            "timestamp": 0,
          },
        ],
      },
      "name": "sync_local_notes",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "username": "d",
      },
      "name": "delete_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": false,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
]
`;

exports[`Auth > clientSideLogout > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > clientSideLogout > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > clientSideLogout > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [
    {
      "content": {
        "body": "",
        "delta": {
          "ops": [],
        },
        "title": "",
      },
      "id": "id",
      "timestamp": 0,
    },
  ],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > clientSideLogout > openedPopup 1`] = `undefined`;

exports[`Auth > clientSideLogout > selectedTheme 1`] = `"System"`;

exports[`Auth > clientSideLogout > syncState 1`] = `
{
  "appError": AppError {
    "code": 0,
    "display": undefined,
    "message": undefined,
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": undefined,
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "",
}
`;

exports[`Auth > clientSideLogout > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > login > Sets and resets loading state > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > login > Sets and resets loading state > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > login > Sets and resets loading state > Storage.get('THEME') 1`] = `null`;

exports[`Auth > login > Sets and resets loading state > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > login > Sets and resets loading state > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > login > Sets and resets loading state > Storage.get('USERNAME') 1`] = `"d"`;

exports[`Auth > login > Sets and resets loading state > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"1","notes":[],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "accessToken": "test-token",
        "username": "d",
      },
      "name": "set_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": true,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "note": {
          "content": {
            "body": "",
            "delta": {
              "ops": [],
            },
            "title": "",
          },
          "id": "id",
          "timestamp": 0,
        },
      },
      "name": "new_note",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "notes": [
          {
            "content": {
              "body": "",
              "delta": {
                "ops": [],
              },
              "title": "",
            },
            "id": "id",
            "timestamp": 0,
          },
        ],
      },
      "name": "sync_local_notes",
    },
  ],
]
`;

exports[`Auth > login > Sets and resets loading state > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > login > Sets and resets loading state > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > login > Sets and resets loading state > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [
    {
      "content": {
        "body": "",
        "delta": {
          "ops": [],
        },
        "title": "",
      },
      "id": "id",
      "timestamp": 0,
    },
  ],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > login > Sets and resets loading state > openedPopup 1`] = `undefined`;

exports[`Auth > login > Sets and resets loading state > selectedTheme 1`] = `"System"`;

exports[`Auth > login > Sets and resets loading state > syncState 1`] = `
{
  "appError": AppError {
    "code": 0,
    "display": undefined,
    "message": undefined,
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": undefined,
  },
  "isLoggedIn": true,
  "loadingCount": 0,
  "newPassword": "",
  "password": "",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "d",
}
`;

exports[`Auth > login > Sets and resets loading state > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > login > Unauthorized > KeyStore.getKey() 1`] = `undefined`;

exports[`Auth > login > Unauthorized > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > login > Unauthorized > Storage.get('THEME') 1`] = `null`;

exports[`Auth > login > Unauthorized > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > login > Unauthorized > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > login > Unauthorized > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > login > Unauthorized > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"2","notes":[],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
]
`;

exports[`Auth > login > Unauthorized > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > login > Unauthorized > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > login > Unauthorized > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > login > Unauthorized > openedPopup 1`] = `undefined`;

exports[`Auth > login > Unauthorized > selectedTheme 1`] = `"System"`;

exports[`Auth > login > Unauthorized > syncState 1`] = `
{
  "appError": AppError {
    "code": 2,
    "display": {
      "form": true,
      "sync": true,
    },
    "message": "Unauthorized",
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": {
      "fn": [Function],
    },
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "2",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "d",
}
`;

exports[`Auth > login > Unauthorized > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > login > User not found > KeyStore.getKey() 1`] = `undefined`;

exports[`Auth > login > User not found > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > login > User not found > Storage.get('THEME') 1`] = `null`;

exports[`Auth > login > User not found > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > login > User not found > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > login > User not found > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > login > User not found > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"k","password":"2","notes":[],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
]
`;

exports[`Auth > login > User not found > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > login > User not found > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > login > User not found > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > login > User not found > openedPopup 1`] = `undefined`;

exports[`Auth > login > User not found > selectedTheme 1`] = `"System"`;

exports[`Auth > login > User not found > syncState 1`] = `
{
  "appError": AppError {
    "code": 2,
    "display": {
      "form": true,
      "sync": true,
    },
    "message": "User not found",
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": {
      "fn": [Function],
    },
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "2",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "k",
}
`;

exports[`Auth > login > User not found > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > login > With decryption error > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > login > With decryption error > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > login > With decryption error > Storage.get('THEME') 1`] = `null`;

exports[`Auth > login > With decryption error > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > login > With decryption error > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > login > With decryption error > Storage.get('USERNAME') 1`] = `"d"`;

exports[`Auth > login > With decryption error > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"1","notes":[],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "accessToken": "test-token",
        "username": "d",
      },
      "name": "set_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": true,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
]
`;

exports[`Auth > login > With decryption error > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > login > With decryption error > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > login > With decryption error > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > login > With decryption error > openedPopup 1`] = `undefined`;

exports[`Auth > login > With decryption error > selectedTheme 1`] = `"System"`;

exports[`Auth > login > With decryption error > syncState 1`] = `
{
  "appError": AppError {
    "code": 9,
    "display": {
      "form": true,
      "sync": true,
    },
    "message": "Note encryption/decryption failed",
    "originalError": [InvalidCharacterError: Invalid character],
    "retry": [Function],
    "retryConfig": {
      "fn": [Function],
    },
  },
  "isLoggedIn": true,
  "loadingCount": 0,
  "newPassword": "",
  "password": "",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "d",
}
`;

exports[`Auth > login > With decryption error > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > login > With encryption error > KeyStore.getKey() 1`] = `undefined`;

exports[`Auth > login > With encryption error > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > login > With encryption error > Storage.get('THEME') 1`] = `null`;

exports[`Auth > login > With encryption error > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > login > With encryption error > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > login > With encryption error > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > login > With encryption error > allCalls 1`] = `
[
  [
    "invoke",
    {
      "calledWith": {},
      "name": "get_all_notes",
    },
  ],
]
`;

exports[`Auth > login > With encryption error > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > login > With encryption error > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > login > With encryption error > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [
    {
      "content": {
        "content": [Circular],
        "id": "7a7bccda-3fac-4465-b9c9-8f67dc1b5bdf",
        "timestamp": 1650008403223,
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
  ],
  "selectedNote": {
    "content": {
      "body": "ğŸ˜¬Ã¶",
      "delta": {
        "ops": [
          {
            "insert": "Note with special characters

ğŸ˜¬Ã¶
  sss
	
Ketchup
Salt 
Sugar

Â¯\\_(ãƒ„)_/Â¯

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€
â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–Œâ”€â”€â”€
â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–’â–Œâ”€â–„â–„â–„â–€â–€â–€â–€â–„â–„â–„â”€â–Œâ–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â”€â”€â”€â–„â–Œâ–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â–„â–€â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€â”€
â–â–’â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â–Œâ–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â–’â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–â”€â”€
â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–Œâ”€
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–â”€
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–Œ
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–’â–€â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–„â–€â–„â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–’â–
â–’â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–’â–“â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–“â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€
â–’â–’â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€
â–’â–’â–’â–“â–“â–“â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–€â–€â–’â–Œâ”€
â–’â–’â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–’â–’â–’â–’â–’â–â”€
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–€â–ˆâ–’â–ˆâ–€â–’â–€â–€â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–€â–ˆâ–€â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–ˆâ–„â–’â–ˆâ–’â–„â–€â–€â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–’â–ˆâ–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–ˆâ–€â–ˆâ–ˆâ–’â–ˆâ–’â–ˆâ–
â–€â–€â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–’â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–€â–
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–

",
          },
        ],
      },
      "title": "Note with special characters",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > login > With encryption error > openedPopup 1`] = `undefined`;

exports[`Auth > login > With encryption error > selectedTheme 1`] = `"System"`;

exports[`Auth > login > With encryption error > syncState 1`] = `
{
  "appError": AppError {
    "code": 9,
    "display": {
      "form": true,
      "sync": true,
    },
    "message": "Note encryption/decryption failed",
    "originalError": [TypeError: Converting circular structure to JSON
    --> starting at object with constructor 'Object'
    --- property 'content' closes the circle],
    "retry": [Function],
    "retryConfig": {
      "fn": [Function],
    },
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "1",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "d",
}
`;

exports[`Auth > login > With encryption error > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > login > With no notes > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > login > With no notes > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > login > With no notes > Storage.get('THEME') 1`] = `null`;

exports[`Auth > login > With no notes > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > login > With no notes > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > login > With no notes > Storage.get('USERNAME') 1`] = `"d"`;

exports[`Auth > login > With no notes > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"1","notes":[],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "accessToken": "test-token",
        "username": "d",
      },
      "name": "set_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": true,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "notes": [
          {
            "content": {
              "body": "ğŸ˜¬Ã¶",
              "delta": {
                "ops": [
                  {
                    "insert": "Note with special characters

ğŸ˜¬Ã¶
  sss
	
Ketchup
Salt 
Sugar

Â¯\\_(ãƒ„)_/Â¯

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€
â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–Œâ”€â”€â”€
â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–’â–Œâ”€â–„â–„â–„â–€â–€â–€â–€â–„â–„â–„â”€â–Œâ–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â”€â”€â”€â–„â–Œâ–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â–„â–€â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€â”€
â–â–’â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â–Œâ–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â–’â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–â”€â”€
â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–Œâ”€
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–â”€
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–Œ
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–’â–€â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–„â–€â–„â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–’â–
â–’â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–’â–“â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–“â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€
â–’â–’â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€
â–’â–’â–’â–“â–“â–“â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–€â–€â–’â–Œâ”€
â–’â–’â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–’â–’â–’â–’â–’â–â”€
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–€â–ˆâ–’â–ˆâ–€â–’â–€â–€â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–€â–ˆâ–€â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–ˆâ–„â–’â–ˆâ–’â–„â–€â–€â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–’â–ˆâ–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–ˆâ–€â–ˆâ–ˆâ–’â–ˆâ–’â–ˆâ–
â–€â–€â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–’â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–€â–
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–

",
                  },
                ],
              },
              "title": "Note with special characters",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
        ],
      },
      "name": "sync_local_notes",
    },
  ],
]
`;

exports[`Auth > login > With no notes > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > login > With no notes > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > login > With no notes > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [
    {
      "content": {
        "body": "ğŸ˜¬Ã¶",
        "delta": {
          "ops": [
            {
              "insert": "Note with special characters

ğŸ˜¬Ã¶
  sss
	
Ketchup
Salt 
Sugar

Â¯\\_(ãƒ„)_/Â¯

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€
â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–Œâ”€â”€â”€
â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–’â–Œâ”€â–„â–„â–„â–€â–€â–€â–€â–„â–„â–„â”€â–Œâ–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â”€â”€â”€â–„â–Œâ–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â–„â–€â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€â”€
â–â–’â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â–Œâ–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â–’â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–â”€â”€
â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–Œâ”€
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–â”€
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–Œ
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–’â–€â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–„â–€â–„â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–’â–
â–’â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–’â–“â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–“â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€
â–’â–’â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€
â–’â–’â–’â–“â–“â–“â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–€â–€â–’â–Œâ”€
â–’â–’â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–’â–’â–’â–’â–’â–â”€
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–€â–ˆâ–’â–ˆâ–€â–’â–€â–€â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–€â–ˆâ–€â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–ˆâ–„â–’â–ˆâ–’â–„â–€â–€â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–’â–ˆâ–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–ˆâ–€â–ˆâ–ˆâ–’â–ˆâ–’â–ˆâ–
â–€â–€â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–’â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–€â–
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–

",
            },
          ],
        },
        "title": "Note with special characters",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
  ],
  "selectedNote": {
    "content": {
      "body": "amet consectetur adipisicing",
      "delta": {
        "ops": [
          {
            "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
          },
        ],
      },
      "title": "Amet consectetur adipisicing",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > login > With no notes > openedPopup 1`] = `undefined`;

exports[`Auth > login > With no notes > selectedTheme 1`] = `"System"`;

exports[`Auth > login > With no notes > syncState 1`] = `
{
  "appError": AppError {
    "code": 0,
    "display": undefined,
    "message": undefined,
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": undefined,
  },
  "isLoggedIn": true,
  "loadingCount": 0,
  "newPassword": "",
  "password": "",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "d",
}
`;

exports[`Auth > login > With no notes > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > login > With notes > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > login > With notes > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > login > With notes > Storage.get('THEME') 1`] = `null`;

exports[`Auth > login > With notes > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > login > With notes > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > login > With notes > Storage.get('USERNAME') 1`] = `"d"`;

exports[`Auth > login > With notes > allCalls 1`] = `
[
  [
    "invoke",
    {
      "calledWith": {},
      "name": "get_all_notes",
    },
  ],
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"1","notes":[{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"}],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "accessToken": "test-token",
        "username": "d",
      },
      "name": "set_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": true,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "notes": [
          {
            "content": {
              "body": "ğŸ˜¬Ã¶",
              "delta": {
                "ops": [
                  {
                    "insert": "Note with special characters

ğŸ˜¬Ã¶
  sss
	
Ketchup
Salt 
Sugar

Â¯\\_(ãƒ„)_/Â¯

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€
â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–Œâ”€â”€â”€
â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–’â–Œâ”€â–„â–„â–„â–€â–€â–€â–€â–„â–„â–„â”€â–Œâ–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â”€â”€â”€â–„â–Œâ–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â–„â–€â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€â”€
â–â–’â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â–Œâ–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â–’â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–â”€â”€
â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–Œâ”€
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–â”€
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–Œ
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–’â–€â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–„â–€â–„â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–’â–
â–’â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–’â–“â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–“â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€
â–’â–’â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€
â–’â–’â–’â–“â–“â–“â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–€â–€â–’â–Œâ”€
â–’â–’â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–’â–’â–’â–’â–’â–â”€
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–€â–ˆâ–’â–ˆâ–€â–’â–€â–€â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–€â–ˆâ–€â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–ˆâ–„â–’â–ˆâ–’â–„â–€â–€â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–’â–ˆâ–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–ˆâ–€â–ˆâ–ˆâ–’â–ˆâ–’â–ˆâ–
â–€â–€â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–’â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–€â–
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–

",
                  },
                ],
              },
              "title": "Note with special characters",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
          {
            "content": {
              "body": "amet consectetur adipisicing",
              "delta": {
                "ops": [
                  {
                    "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
                  },
                ],
              },
              "title": "Amet consectetur adipisicing",
            },
            "id": "id",
            "timestamp": 0,
          },
        ],
      },
      "name": "sync_local_notes",
    },
  ],
]
`;

exports[`Auth > login > With notes > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > login > With notes > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > login > With notes > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [
    {
      "content": {
        "body": "ğŸ˜¬Ã¶",
        "delta": {
          "ops": [
            {
              "insert": "Note with special characters

ğŸ˜¬Ã¶
  sss
	
Ketchup
Salt 
Sugar

Â¯\\_(ãƒ„)_/Â¯

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€
â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–Œâ”€â”€â”€
â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–’â–Œâ”€â–„â–„â–„â–€â–€â–€â–€â–„â–„â–„â”€â–Œâ–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â”€â”€â”€â–„â–Œâ–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â–„â–€â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€â”€
â–â–’â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â–Œâ–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â–’â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–â”€â”€
â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–Œâ”€
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–â”€
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–Œ
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–’â–€â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–„â–€â–„â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–’â–
â–’â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–’â–“â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–“â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€
â–’â–’â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€
â–’â–’â–’â–“â–“â–“â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–€â–€â–’â–Œâ”€
â–’â–’â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–’â–’â–’â–’â–’â–â”€
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–€â–ˆâ–’â–ˆâ–€â–’â–€â–€â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–€â–ˆâ–€â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–ˆâ–„â–’â–ˆâ–’â–„â–€â–€â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–’â–ˆâ–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–ˆâ–€â–ˆâ–ˆâ–’â–ˆâ–’â–ˆâ–
â–€â–€â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–’â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–€â–
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–

",
            },
          ],
        },
        "title": "Note with special characters",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
  ],
  "selectedNote": {
    "content": {
      "body": "ğŸ˜¬Ã¶",
      "delta": {
        "ops": [
          {
            "insert": "Note with special characters

ğŸ˜¬Ã¶
  sss
	
Ketchup
Salt 
Sugar

Â¯\\_(ãƒ„)_/Â¯

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€
â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–Œâ”€â”€â”€
â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–’â–Œâ”€â–„â–„â–„â–€â–€â–€â–€â–„â–„â–„â”€â–Œâ–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â”€â”€â”€â–„â–Œâ–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â–„â–€â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€â”€
â–â–’â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â–Œâ–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â–’â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–â”€â”€
â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–Œâ”€
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–â”€
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–Œ
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–’â–€â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–„â–€â–„â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–’â–
â–’â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–’â–“â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–“â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€
â–’â–’â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€
â–’â–’â–’â–“â–“â–“â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–€â–€â–’â–Œâ”€
â–’â–’â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–’â–’â–’â–’â–’â–â”€
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–€â–ˆâ–’â–ˆâ–€â–’â–€â–€â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–€â–ˆâ–€â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–ˆâ–„â–’â–ˆâ–’â–„â–€â–€â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–’â–ˆâ–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–ˆâ–€â–ˆâ–ˆâ–’â–ˆâ–’â–ˆâ–
â–€â–€â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–’â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–€â–
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–

",
          },
        ],
      },
      "title": "Note with special characters",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > login > With notes > openedPopup 1`] = `undefined`;

exports[`Auth > login > With notes > selectedTheme 1`] = `"System"`;

exports[`Auth > login > With notes > syncState 1`] = `
{
  "appError": AppError {
    "code": 0,
    "display": undefined,
    "message": undefined,
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": undefined,
  },
  "isLoggedIn": true,
  "loadingCount": 0,
  "newPassword": "",
  "password": "",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "d",
}
`;

exports[`Auth > login > With notes > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > login > With server error > KeyStore.getKey() 1`] = `undefined`;

exports[`Auth > login > With server error > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > login > With server error > Storage.get('THEME') 1`] = `null`;

exports[`Auth > login > With server error > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > login > With server error > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > login > With server error > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > login > With server error > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"1","notes":[],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
]
`;

exports[`Auth > login > With server error > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > login > With server error > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > login > With server error > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > login > With server error > openedPopup 1`] = `undefined`;

exports[`Auth > login > With server error > selectedTheme 1`] = `"System"`;

exports[`Auth > login > With server error > syncState 1`] = `
{
  "appError": AppError {
    "code": 2,
    "display": {
      "form": true,
      "sync": true,
    },
    "message": "Server error",
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": {
      "fn": [Function],
    },
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "1",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "d",
}
`;

exports[`Auth > login > With server error > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > logout > Logs a user out and clears user-based state > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > logout > Logs a user out and clears user-based state > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > logout > Logs a user out and clears user-based state > Storage.get('THEME') 1`] = `null`;

exports[`Auth > logout > Logs a user out and clears user-based state > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > logout > Logs a user out and clears user-based state > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > logout > Logs a user out and clears user-based state > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > logout > Logs a user out and clears user-based state > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"1","notes":[],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "accessToken": "test-token",
        "username": "d",
      },
      "name": "set_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": true,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "note": {
          "content": {
            "body": "",
            "delta": {
              "ops": [],
            },
            "title": "",
          },
          "id": "id",
          "timestamp": 0,
        },
      },
      "name": "new_note",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "notes": [
          {
            "content": {
              "body": "",
              "delta": {
                "ops": [],
              },
              "title": "",
            },
            "id": "id",
            "timestamp": 0,
          },
        ],
      },
      "name": "sync_local_notes",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "username": "d",
      },
      "name": "get_access_token",
    },
  ],
  [
    "request",
    {
      "calledWith": {
        "body": undefined,
        "headers": {
          "Authorization": "Bearer test-token",
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
          "X-Username": "d",
        },
        "method": "POST",
      },
      "name": "/auth/logout",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "username": "d",
      },
      "name": "delete_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": false,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
]
`;

exports[`Auth > logout > Logs a user out and clears user-based state > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > logout > Logs a user out and clears user-based state > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > logout > Logs a user out and clears user-based state > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [
    {
      "content": {
        "body": "",
        "delta": {
          "ops": [],
        },
        "title": "",
      },
      "id": "id",
      "timestamp": 0,
    },
  ],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > logout > Logs a user out and clears user-based state > openedPopup 1`] = `undefined`;

exports[`Auth > logout > Logs a user out and clears user-based state > selectedTheme 1`] = `"System"`;

exports[`Auth > logout > Logs a user out and clears user-based state > syncState 1`] = `
{
  "appError": AppError {
    "code": 0,
    "display": undefined,
    "message": undefined,
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": undefined,
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "",
}
`;

exports[`Auth > logout > Logs a user out and clears user-based state > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > logout > Sets and resets loading state > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > logout > Sets and resets loading state > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > logout > Sets and resets loading state > Storage.get('THEME') 1`] = `null`;

exports[`Auth > logout > Sets and resets loading state > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > logout > Sets and resets loading state > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > logout > Sets and resets loading state > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > logout > Sets and resets loading state > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"1","notes":[],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "accessToken": "test-token",
        "username": "d",
      },
      "name": "set_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": true,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "note": {
          "content": {
            "body": "",
            "delta": {
              "ops": [],
            },
            "title": "",
          },
          "id": "id",
          "timestamp": 0,
        },
      },
      "name": "new_note",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "notes": [
          {
            "content": {
              "body": "",
              "delta": {
                "ops": [],
              },
              "title": "",
            },
            "id": "id",
            "timestamp": 0,
          },
        ],
      },
      "name": "sync_local_notes",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "username": "d",
      },
      "name": "get_access_token",
    },
  ],
  [
    "request",
    {
      "calledWith": {
        "body": undefined,
        "headers": {
          "Authorization": "Bearer test-token",
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
          "X-Username": "d",
        },
        "method": "POST",
      },
      "name": "/auth/logout",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "username": "d",
      },
      "name": "delete_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": false,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
]
`;

exports[`Auth > logout > Sets and resets loading state > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > logout > Sets and resets loading state > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > logout > Sets and resets loading state > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [
    {
      "content": {
        "body": "",
        "delta": {
          "ops": [],
        },
        "title": "",
      },
      "id": "id",
      "timestamp": 0,
    },
  ],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > logout > Sets and resets loading state > openedPopup 1`] = `undefined`;

exports[`Auth > logout > Sets and resets loading state > selectedTheme 1`] = `"System"`;

exports[`Auth > logout > Sets and resets loading state > syncState 1`] = `
{
  "appError": AppError {
    "code": 0,
    "display": undefined,
    "message": undefined,
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": undefined,
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "",
}
`;

exports[`Auth > logout > Sets and resets loading state > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > logout > Unauthorized > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > logout > Unauthorized > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > logout > Unauthorized > Storage.get('THEME') 1`] = `null`;

exports[`Auth > logout > Unauthorized > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > logout > Unauthorized > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > logout > Unauthorized > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > logout > Unauthorized > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"1","notes":[],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "accessToken": "test-token",
        "username": "d",
      },
      "name": "set_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": true,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "note": {
          "content": {
            "body": "",
            "delta": {
              "ops": [],
            },
            "title": "",
          },
          "id": "id",
          "timestamp": 0,
        },
      },
      "name": "new_note",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "notes": [
          {
            "content": {
              "body": "",
              "delta": {
                "ops": [],
              },
              "title": "",
            },
            "id": "id",
            "timestamp": 0,
          },
        ],
      },
      "name": "sync_local_notes",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "username": "d",
      },
      "name": "get_access_token",
    },
  ],
  [
    "request",
    {
      "calledWith": {
        "body": undefined,
        "headers": {
          "Authorization": "Bearer undefined",
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
          "X-Username": "d",
        },
        "method": "POST",
      },
      "name": "/auth/logout",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "username": "d",
      },
      "name": "delete_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": false,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
]
`;

exports[`Auth > logout > Unauthorized > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > logout > Unauthorized > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > logout > Unauthorized > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [
    {
      "content": {
        "body": "",
        "delta": {
          "ops": [],
        },
        "title": "",
      },
      "id": "id",
      "timestamp": 0,
    },
  ],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > logout > Unauthorized > openedPopup 1`] = `undefined`;

exports[`Auth > logout > Unauthorized > selectedTheme 1`] = `"System"`;

exports[`Auth > logout > Unauthorized > syncState 1`] = `
{
  "appError": AppError {
    "code": 4,
    "display": undefined,
    "message": "Unauthorized",
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": undefined,
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "",
}
`;

exports[`Auth > logout > Unauthorized > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > logout > User not found > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > logout > User not found > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > logout > User not found > Storage.get('THEME') 1`] = `null`;

exports[`Auth > logout > User not found > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > logout > User not found > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > logout > User not found > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > logout > User not found > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"1","notes":[],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "accessToken": "test-token",
        "username": "d",
      },
      "name": "set_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": true,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "note": {
          "content": {
            "body": "",
            "delta": {
              "ops": [],
            },
            "title": "",
          },
          "id": "id",
          "timestamp": 0,
        },
      },
      "name": "new_note",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "notes": [
          {
            "content": {
              "body": "",
              "delta": {
                "ops": [],
              },
              "title": "",
            },
            "id": "id",
            "timestamp": 0,
          },
        ],
      },
      "name": "sync_local_notes",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "username": "d",
      },
      "name": "get_access_token",
    },
  ],
  [
    "request",
    {
      "calledWith": {
        "body": undefined,
        "headers": {
          "Authorization": "Bearer test-token",
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
          "X-Username": "d",
        },
        "method": "POST",
      },
      "name": "/auth/logout",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "username": "d",
      },
      "name": "delete_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": false,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
]
`;

exports[`Auth > logout > User not found > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > logout > User not found > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {},
}
`;

exports[`Auth > logout > User not found > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [
    {
      "content": {
        "body": "",
        "delta": {
          "ops": [],
        },
        "title": "",
      },
      "id": "id",
      "timestamp": 0,
    },
  ],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > logout > User not found > openedPopup 1`] = `undefined`;

exports[`Auth > logout > User not found > selectedTheme 1`] = `"System"`;

exports[`Auth > logout > User not found > syncState 1`] = `
{
  "appError": AppError {
    "code": 4,
    "display": undefined,
    "message": "User not found",
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": undefined,
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "",
}
`;

exports[`Auth > logout > User not found > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > logout > With server error > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > logout > With server error > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > logout > With server error > Storage.get('THEME') 1`] = `null`;

exports[`Auth > logout > With server error > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > logout > With server error > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > logout > With server error > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > logout > With server error > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"1","notes":[],"deleted_note_ids":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/login",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "accessToken": "test-token",
        "username": "d",
      },
      "name": "set_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": true,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "note": {
          "content": {
            "body": "",
            "delta": {
              "ops": [],
            },
            "title": "",
          },
          "id": "id",
          "timestamp": 0,
        },
      },
      "name": "new_note",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "notes": [
          {
            "content": {
              "body": "",
              "delta": {
                "ops": [],
              },
              "title": "",
            },
            "id": "id",
            "timestamp": 0,
          },
        ],
      },
      "name": "sync_local_notes",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "username": "d",
      },
      "name": "get_access_token",
    },
  ],
  [
    "request",
    {
      "calledWith": {
        "body": undefined,
        "headers": {
          "Authorization": "Bearer test-token",
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
          "X-Username": "d",
        },
        "method": "POST",
      },
      "name": "/auth/logout",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "username": "d",
      },
      "name": "delete_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": false,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
]
`;

exports[`Auth > logout > With server error > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > logout > With server error > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > logout > With server error > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [
    {
      "content": {
        "body": "",
        "delta": {
          "ops": [],
        },
        "title": "",
      },
      "id": "id",
      "timestamp": 0,
    },
  ],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > logout > With server error > openedPopup 1`] = `undefined`;

exports[`Auth > logout > With server error > selectedTheme 1`] = `"System"`;

exports[`Auth > logout > With server error > syncState 1`] = `
{
  "appError": AppError {
    "code": 4,
    "display": undefined,
    "message": "Server error",
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": undefined,
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "",
}
`;

exports[`Auth > logout > With server error > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > signup > Sets and resets loading state > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > signup > Sets and resets loading state > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > signup > Sets and resets loading state > Storage.get('THEME') 1`] = `null`;

exports[`Auth > signup > Sets and resets loading state > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > signup > Sets and resets loading state > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > signup > Sets and resets loading state > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > signup > Sets and resets loading state > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"d","password":"1","notes":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/signup",
    },
  ],
]
`;

exports[`Auth > signup > Sets and resets loading state > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > signup > Sets and resets loading state > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > signup > Sets and resets loading state > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > signup > Sets and resets loading state > openedPopup 1`] = `undefined`;

exports[`Auth > signup > Sets and resets loading state > selectedTheme 1`] = `"System"`;

exports[`Auth > signup > Sets and resets loading state > syncState 1`] = `
{
  "appError": AppError {
    "code": 3,
    "display": {
      "form": true,
      "sync": true,
    },
    "message": "User already exists",
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": {
      "fn": [Function],
    },
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "1",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "d",
}
`;

exports[`Auth > signup > Sets and resets loading state > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > signup > With encryption error > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > signup > With encryption error > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > signup > With encryption error > Storage.get('THEME') 1`] = `null`;

exports[`Auth > signup > With encryption error > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > signup > With encryption error > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > signup > With encryption error > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > signup > With encryption error > allCalls 1`] = `
[
  [
    "invoke",
    {
      "calledWith": {},
      "name": "get_all_notes",
    },
  ],
]
`;

exports[`Auth > signup > With encryption error > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > signup > With encryption error > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > signup > With encryption error > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [
    {
      "content": {
        "content": [Circular],
        "id": "7a7bccda-3fac-4465-b9c9-8f67dc1b5bdf",
        "timestamp": 1650008403223,
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
  ],
  "selectedNote": {
    "content": {
      "body": "ğŸ˜¬Ã¶",
      "delta": {
        "ops": [
          {
            "insert": "Note with special characters

ğŸ˜¬Ã¶
  sss
	
Ketchup
Salt 
Sugar

Â¯\\_(ãƒ„)_/Â¯

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€
â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–Œâ”€â”€â”€
â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–’â–Œâ”€â–„â–„â–„â–€â–€â–€â–€â–„â–„â–„â”€â–Œâ–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â”€â”€â”€â–„â–Œâ–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â–„â–€â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€â”€
â–â–’â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â–Œâ–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â–’â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–â”€â”€
â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–Œâ”€
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–â”€
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–Œ
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–’â–€â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–„â–€â–„â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–’â–
â–’â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–’â–“â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–“â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€
â–’â–’â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€
â–’â–’â–’â–“â–“â–“â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–€â–€â–’â–Œâ”€
â–’â–’â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–’â–’â–’â–’â–’â–â”€
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–€â–ˆâ–’â–ˆâ–€â–’â–€â–€â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–€â–ˆâ–€â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–ˆâ–„â–’â–ˆâ–’â–„â–€â–€â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–’â–ˆâ–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–ˆâ–€â–ˆâ–ˆâ–’â–ˆâ–’â–ˆâ–
â–€â–€â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–’â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–€â–
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–

",
          },
        ],
      },
      "title": "Note with special characters",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > signup > With encryption error > openedPopup 1`] = `undefined`;

exports[`Auth > signup > With encryption error > selectedTheme 1`] = `"System"`;

exports[`Auth > signup > With encryption error > syncState 1`] = `
{
  "appError": AppError {
    "code": 9,
    "display": {
      "form": true,
      "sync": true,
    },
    "message": "Note encryption/decryption failed",
    "originalError": [TypeError: Converting circular structure to JSON
    --> starting at object with constructor 'Object'
    --- property 'content' closes the circle],
    "retry": [Function],
    "retryConfig": {
      "fn": [Function],
    },
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "2",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "k",
}
`;

exports[`Auth > signup > With encryption error > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > signup > With no notes > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > signup > With no notes > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > signup > With no notes > Storage.get('THEME') 1`] = `null`;

exports[`Auth > signup > With no notes > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > signup > With no notes > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > signup > With no notes > Storage.get('USERNAME') 1`] = `"k"`;

exports[`Auth > signup > With no notes > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"k","password":"2","notes":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/signup",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "accessToken": "test-token",
        "username": "k",
      },
      "name": "set_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": true,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
]
`;

exports[`Auth > signup > With no notes > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > signup > With no notes > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
    "k": "2",
  },
}
`;

exports[`Auth > signup > With no notes > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > signup > With no notes > openedPopup 1`] = `undefined`;

exports[`Auth > signup > With no notes > selectedTheme 1`] = `"System"`;

exports[`Auth > signup > With no notes > syncState 1`] = `
{
  "appError": AppError {
    "code": 0,
    "display": undefined,
    "message": undefined,
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": undefined,
  },
  "isLoggedIn": true,
  "loadingCount": 0,
  "newPassword": "",
  "password": "",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "k",
}
`;

exports[`Auth > signup > With no notes > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > signup > With notes > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > signup > With notes > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > signup > With notes > Storage.get('THEME') 1`] = `null`;

exports[`Auth > signup > With notes > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > signup > With notes > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > signup > With notes > Storage.get('USERNAME') 1`] = `"k"`;

exports[`Auth > signup > With notes > allCalls 1`] = `
[
  [
    "invoke",
    {
      "calledWith": {},
      "name": "get_all_notes",
    },
  ],
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"k","password":"2","notes":[{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"},{"id":"id","timestamp":0,"content":"content"}]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/signup",
    },
  ],
  [
    "invoke",
    {
      "calledWith": {
        "accessToken": "test-token",
        "username": "k",
      },
      "name": "set_access_token",
    },
  ],
  [
    "emits",
    {
      "calledWith": {
        "data": {
          "is_logged_in": true,
        },
        "isFrontendEmit": true,
      },
      "name": "auth",
    },
  ],
]
`;

exports[`Auth > signup > With notes > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > signup > With notes > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
    "k": "2",
  },
}
`;

exports[`Auth > signup > With notes > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [
    {
      "content": {
        "body": "ğŸ˜¬Ã¶",
        "delta": {
          "ops": [
            {
              "insert": "Note with special characters

ğŸ˜¬Ã¶
  sss
	
Ketchup
Salt 
Sugar

Â¯\\_(ãƒ„)_/Â¯

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€
â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–Œâ”€â”€â”€
â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–’â–Œâ”€â–„â–„â–„â–€â–€â–€â–€â–„â–„â–„â”€â–Œâ–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â”€â”€â”€â–„â–Œâ–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â–„â–€â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€â”€
â–â–’â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â–Œâ–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â–’â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–â”€â”€
â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–Œâ”€
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–â”€
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–Œ
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–’â–€â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–„â–€â–„â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–’â–
â–’â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–’â–“â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–“â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€
â–’â–’â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€
â–’â–’â–’â–“â–“â–“â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–€â–€â–’â–Œâ”€
â–’â–’â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–’â–’â–’â–’â–’â–â”€
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–€â–ˆâ–’â–ˆâ–€â–’â–€â–€â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–€â–ˆâ–€â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–ˆâ–„â–’â–ˆâ–’â–„â–€â–€â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–’â–ˆâ–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–ˆâ–€â–ˆâ–ˆâ–’â–ˆâ–’â–ˆâ–
â–€â–€â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–’â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–€â–
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–

",
            },
          ],
        },
        "title": "Note with special characters",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
    {
      "content": {
        "body": "amet consectetur adipisicing",
        "delta": {
          "ops": [
            {
              "insert": "Amet consectetur adipisicing\\n\\namet consectetur adipisicing\\namet consectetur adipisicing\\namet consectetur adipisicing\\n",
            },
          ],
        },
        "title": "Amet consectetur adipisicing",
      },
      "id": "id",
      "timestamp": 0,
    },
  ],
  "selectedNote": {
    "content": {
      "body": "ğŸ˜¬Ã¶",
      "delta": {
        "ops": [
          {
            "insert": "Note with special characters

ğŸ˜¬Ã¶
  sss
	
Ketchup
Salt 
Sugar

Â¯\\_(ãƒ„)_/Â¯

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–„â–€â–€â–„â”€â”€â”€â”€
â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–Œâ”€â”€â”€
â”€â”€â”€â”€â”€â–Œâ–’â–’â–’â–’â–â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â”€â”€â”€â–â–’â–’â–’â–’â–’â–’â–Œâ”€â–„â–„â–„â–€â–€â–€â–€â–„â–„â–„â”€â–Œâ–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â”€â”€â”€â–„â–Œâ–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â”€â–„â–€â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€â”€
â–â–’â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€â”€
â–Œâ–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€â”€
â–’â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–’â–’â–’â–„â–€â–€â–€â–€â–„â–’â–’â–â”€â”€
â–’â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–„â–„â”€â–â–Œâ–’â–’â–Œâ”€
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–’â–â–Œâ–â–ˆâ–„â–Œâ–â–Œâ–’â–’â–â”€
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–â–Œâ”€â–€â–€â”€â–â–Œâ–’â–’â–’â–Œ
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–’â–€â–„â–„â–„â–„â–€â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–’â–€â–’â–’â–’â–’â–’â–’â–
â–’â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–’â–’â–’â–„â–€â–„â–’â–’â–’â–€â–’â–’â–’â–’â–’â–’â–’â–
â–’â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–€â–„â–’â–’â–’â–„â–€â–’â–’â–’â–’â–
â–’â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–’â–“â–“â–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–“â–â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ”€
â–’â–’â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–â”€â”€
â–’â–’â–’â–“â–“â–“â–“â–“â–€â–€â–„â–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–„â–„â–€â–€â–’â–Œâ”€
â–’â–’â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–’â–’â–’â–’â–’â–â”€
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–Œ
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–’â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–€â–ˆâ–’â–ˆâ–€â–’â–€â–€â–ˆâ–’â–’â–’â–’â–’â–’â–
â–’â–’â–’â–’â–’â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–’â–€â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–€â–ˆâ–’â–€â–ˆâ–€â–’â–ˆâ–’â–ˆâ–’â–ˆâ–’â–ˆâ–„â–’â–ˆâ–’â–„â–€â–€â–
â–ˆâ–€â–„â–’â–ˆâ–€â–„â–’â–ˆâ–€â–’â–ˆâ–„â–ˆâ–’â–’â–ˆâ–’â–’â–ˆâ–€â–ˆâ–’â–ˆâ–’â–ˆâ–€â–ˆâ–ˆâ–’â–ˆâ–’â–ˆâ–
â–€â–€â–’â–’â–€â–’â–€â–’â–€â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–’â–€â–’â–€â–’â–€â–’â–’â–€â–’â–’â–€â–€â–
â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–

",
          },
        ],
      },
      "title": "Note with special characters",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > signup > With notes > openedPopup 1`] = `undefined`;

exports[`Auth > signup > With notes > selectedTheme 1`] = `"System"`;

exports[`Auth > signup > With notes > syncState 1`] = `
{
  "appError": AppError {
    "code": 0,
    "display": undefined,
    "message": undefined,
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": undefined,
  },
  "isLoggedIn": true,
  "loadingCount": 0,
  "newPassword": "",
  "password": "",
  "unsyncedNoteIds": {
    "clear": [MockFunction clear] {
      "calls": [
        [],
      ],
      "results": [
        {
          "type": "return",
          "value": undefined,
        },
      ],
    },
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "k",
}
`;

exports[`Auth > signup > With notes > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;

exports[`Auth > signup > With server error > KeyStore.getKey() 1`] = `CryptoKey {}`;

exports[`Auth > signup > With server error > Storage.get('MENU_WIDTH') 1`] = `null`;

exports[`Auth > signup > With server error > Storage.get('THEME') 1`] = `null`;

exports[`Auth > signup > With server error > Storage.get('UPDATE_SEEN') 1`] = `null`;

exports[`Auth > signup > With server error > Storage.get('UPDATE_STRATEGY') 1`] = `null`;

exports[`Auth > signup > With server error > Storage.get('USERNAME') 1`] = `null`;

exports[`Auth > signup > With server error > allCalls 1`] = `
[
  [
    "request",
    {
      "calledWith": {
        "body": "{"username":"k","password":"2","notes":[]}",
        "headers": {
          "Content-Security-Policy": "default-src 'self'; connect-src http://localhost:8000;",
          "Content-Type": "application/json",
        },
        "method": "POST",
      },
      "name": "/auth/signup",
    },
  ],
]
`;

exports[`Auth > signup > With server error > document.body.outerHTML 1`] = `"<body class="theme--system"></body>"`;

exports[`Auth > signup > With server error > mockDb 1`] = `
{
  "deletedNoteIds": Set {},
  "encryptedNotes": 10,
  "users": {
    "d": "1",
  },
}
`;

exports[`Auth > signup > With server error > noteState 1`] = `
{
  "extraSelectedNotes": [],
  "notes": [],
  "selectedNote": {
    "content": {
      "body": "",
      "delta": {
        "ops": [],
      },
      "title": "",
    },
    "id": "id",
    "timestamp": 0,
  },
}
`;

exports[`Auth > signup > With server error > openedPopup 1`] = `undefined`;

exports[`Auth > signup > With server error > selectedTheme 1`] = `"System"`;

exports[`Auth > signup > With server error > syncState 1`] = `
{
  "appError": AppError {
    "code": 3,
    "display": {
      "form": true,
      "sync": true,
    },
    "message": "Server error",
    "originalError": undefined,
    "retry": [Function],
    "retryConfig": {
      "fn": [Function],
    },
  },
  "isLoggedIn": false,
  "loadingCount": 0,
  "newPassword": "",
  "password": "2",
  "unsyncedNoteIds": {
    "clear": [Function],
    "deleted": Set {},
    "edited": Set {},
    "new": "",
    "set": [Function],
    "size": 0,
    "store": [Function],
  },
  "username": "k",
}
`;

exports[`Auth > signup > With server error > updateState 1`] = `
{
  "isAvailable": false,
  "isDownloading": false,
  "strategy": "manual",
}
`;
